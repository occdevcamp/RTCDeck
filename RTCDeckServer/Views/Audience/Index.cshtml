@{
    Layout = null;
}

<!DOCTYPE html>

<html ng-app="audienceView">
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Audience</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/signalR")
    @Scripts.Render("~/bundles/angular")
    <script>
        window.BASE_URL = "@Html.Raw(Url.Content("~"))";
        window.HUB_URL = "@Html.Raw(Url.Content("~/signalr/"))";
        window.HUB_NAME = "RTCDeckHub";
    </script>
    <script src="~/Scripts/RTCDeckAppCode/Models.js"></script>
    <script src="~/Scripts/RTCDeckAppCode/HubCommunications.js"></script>
    <script src="~/Scripts/RTCDeckAppCode/AudienceView.js"></script>
</head>
<body ng-controller="Controllers.AudienceViewCtrl">
    <div class ="row">

        <div ng-repeat="slideData in slides">
            <div ng-hide="!isCurrentSlide(slideData)">
                <div class="col-md-4" ng-cloak>
                    <h2>Slide ({{slideData.indexh}} , {{slideData.indexv}}, {{slideData.indexf}})</h2>
                    <button ng-click="navPrev()">Prev</button><button ng-click="navNext()">Next</button><button ng-hide="!paused" ng-click="goToCurrentServerSlide()">Go to current slide</button>
                </div>
                <div ng-bind-html="slideData.supplementaryContent" class="col-md-4"></div>

                <div class="col-md-4" >
                    <ul class="polls" ng-repeat="poll in slideData.polls" ng-hide="!isCurrentServerSlide(slideData)">
                        <li class="poll" ng-class="poll.Style" ng-cloak>
                            <p class="poll-text">{{poll.Question}}</p>
                            <ul>
                                <li class="poll-option" ng-repeat="option in poll.Options">
                                    <a href="#" ng-click="selectAnswer(poll,option)" ng-class="{selected : option.selected}" class="{{option.OptionStyle}}">
                                        <img src="{{option.OptionImagePath}}" alt="{{option.OptionText}}">
                                        <span>{{option.OptionText}}</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
